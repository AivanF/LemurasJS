// AivanF LemurasJS
var lemuras=function(){var module = {};var __dirname = '';module.exports=function(modules,runtime){"use strict";var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(129)}return startup()}({129:function(module,__unusedexports,__webpack_require__){var c=__webpack_require__(871);var t=__webpack_require__(596);var f=__webpack_require__(445);var u=__webpack_require__(547);var p=__webpack_require__(250);module.exports=Object.assign({utils:u,processing:p},c,t,f)},250:function(module,__unusedexports,__webpack_require__){var m_utils=__webpack_require__(547);function mode(list){throw Error("Not implemented!")}function percentile(list,percent){if(m_utils.is_undefined(percent)){percent=.5}list=list.slice(0);var k=(list.length-1)*percent;var f=Math.floor(k);var c=Math.ceil(k);if(f==c){return list[f]}else{return list[f]*(c-k)+list[c]*(k-f)}}var Q1=m_utils.partial(percentile,[undefined,.25]);var Q2=m_utils.partial(percentile,[undefined,.5]);var Q3=m_utils.partial(percentile,[undefined,.75]);var median=Q2;function sum(list){var res=0;for(var i=0;i<list.length;i++){res+=list[i]}return res}function avg(list){return sum(list)/list.length}function std(list,ddof,mean){if(list.length>=1+ddof){if(m_utils.is_undefined(mean)){mean=avg(list)}var s=sum(list.map(function(x){return Math.power(x-mean,2)}));var disp=s/(list.length-ddof);return Math.power(disp,.5)}else{return 0}}function distinct(list){var res=[];list.forEach(function(value){if(list.indexOf(value)<0){res.push(value)}});return res}function nunique(list){return distinct(list).length}function nulls(list){var res=0;list.forEach(function(value){if(value===null){res+=1}});return res}function max(list){var res=Number.NEGATIVE_INFINITY;list.forEach(function(value){if(value>res){res=value}});return res}function min(list){var res=Number.POSITIVE_INFINITY;list.forEach(function(value){if(value>res){res=value}});return res}var aggfuns={avg:avg,mean:avg,mode:mode,middle:median,median:median,q1:Q1,q2:Q2,q3:Q3,std:std,sum:sum,nunique:nunique,nulls:nulls,nones:nulls,min:min,max:max,count:function(list){return list.length},first:function(list){return list[0]},last:function(list){return list[list.length-1]},get:function(list,i){return list[i]}};function make_str(value,def){if(m_utils.is_string(value)){return value}else if(m_utils.is_undefined(def)){return value.toString()}else{return def}}function parse_int(value,def,hard){if(m_utils.is_undefined(def)){def=0}if(m_utils.is_undefined(hard)){hard=true}var res=Number(value);if(!Number.isNaN(res)){if(hard){return Math.floor(res)}else{if(Number.isInteger(res)){return res}}}return def}function parse_float(value,def){if(m_utils.is_undefined(def)){def=0}var res=Number(value);if(!Number.isNaN(res)){return res}return def}function is_none(value){return Number.isNaN(value)||m_utils.is_undefined(value)||value===null}function none_to(value,def){if(m_utils.is_undefined(def)){def=0}if(is_none(value)){return def}else{return value}}var typefuns={str:make_str,int:parse_int,float:parse_float,none_to:none_to};function lengths(value,strings_only){if(strings_only&&!m_utils.is_string(value)){return null}else{return value.toString().length}}function isin(value,other){return other.indexOf(value)>=0}var applyfuns={isnull:is_none,lengths:lengths,isin:isin};function parse_value(value,empty){var res=parse_int(value,null,false);if(!is_none){return res}var res=parse_float(value,null);if(!is_none){return res}res=value.toString().toLowerCase();if(res=="none"||res=="null"||res.length==0){return empty}return value}function parse_row(list,empty){for(var i=0;i<list.length;i++){list[i]=parse_value(list[i])}return list}module.exports={aggfuns:aggfuns,typefuns:typefuns,applyfuns:applyfuns,parse_value:parse_value,parse_row:parse_row}},445:function(module,__unusedexports,__webpack_require__){var m_utils=__webpack_require__(547);var formula_op2={"&":"band","|":"bor","^":"bxor","&&":"and","||":"or","^^":"xor","+":"add","-":"sub","*":"mul","/":"div","%":"mod","**":"pow",">":"gt","<":"lt",">=":"ge","<=":"le","==":"eq","!=":"ne"};var formula_op1={"!":"inv","#":"abs"};function parse_formula(code){var cur,nex,prev=null;var quote_mode=null;var op,enc_op=0;var to_close=[];var doors={};var opened_par=0;var res="";function try_close(){if(opened_par==to_close[to_close.length-1]){if(doors[opened_par]){res+=doors[opened_par];doors[opened_par]=null}res+=")";to_close.splice(-1,1)}}code+=" ";for(var i=0;i<code.length-1;i++){cur=code[i];nex=code[i+1];if(quote_mode){if(cur==quote_mode&&prev!="\\"){quote_mode=null}res+=cur}else{if(cur=='"'){quote_mode='"';res+=cur}else if(cur=="'"){quote_mode="'";res+=cur}else{op=formula_op1[cur];if(op){to_close.push(opened_par);doors[opened_par]="."+op+"("}else{op=formula_op2[cur+nex];if(!enc_op&&op){i++}else{op=formula_op2[cur]}if(!enc_op&&op){try_close();res+="."+op+"(";to_close.push(opened_par)}else if(cur=="\\"){enc_op=2}else if(cur==" "){}else{res+=cur;if(cur=="("){opened_par++}else if(cur==")"){try_close();opened_par--}}}}}if(enc_op>0){enc_op--}prev=cur}try_close();if(opened_par!=0){throw new SyntaxError("Bad parentheses count!")}res=res.replaceAll("[[",".column(");res=res.replaceAll("]]",")");return res}function formula(source_code,args){var parsed=null;try{parsed=parse_formula(source_code);args=args||[];args=[null].concat(args.concat(["return "+parsed+";"]));var res=new(Function.prototype.bind.apply(Function,args));res.source=source_code;res.parsed=parsed;return res}catch(err){throw new SyntaxError("Got {}: {}\nParsing {}\nTo {}".format(err.name,err.message,source_code,parsed))}}module.exports={formula:formula}},547:function(module){function is_undefined(value){return typeof value==="undefined"}function is_nil(value){return is_undefined(value)||value===null}function is_string(value){return typeof value==="string"||value instanceof String}function is_bool(value){return!!value===value}function is_int(value){return Number.isInteger(value)}function is_float(value){return parseFloat(value)===value}function repr_cell(value,quote_strings){if(is_string(value)&&quote_strings){return'"'+value+'"'}else{return value}}function get_type(data,limit){var tp="n";var ln=0;var el,kind;for(var i=0;i<data.length;i++){if(limit&&i>limit){break}el=data[i];ln=Math.max(ln,(""+el).toString().length);if(is_bool(el)){kind="b"}else if(is_int(el)){kind="i"}else if(is_float(el)){kind="f"}else if(el instanceof Date){kind="d"}else if(is_string(el)){kind="s"}else{kind="o"}if(tp=="n"){tp=kind}else if(tp!=kind){if(tp=="f"&&kind=="i"){}else if(tp=="i"&&kind=="f"){tp="f"}else{tp="m"}}}return{type:tp,length:ln}}function partial(func,defaults){return function(){var args=[];var j=0;for(var i=0;i<defaults.length;i++){if(is_undefined(defaults[i])){args.push(arguments[j]);j++}else{args.push(defaults[i])}}return func.apply(this,args)}}String.prototype.replaceAll=function(search,replacement){return this.split(search).join(replacement)};String.prototype.format=function(){var res=this;for(var i=0;i<arguments.length;i++){res=res.replace("{"+i+"}",""+arguments[i]);res=res.replace("{}",""+arguments[i])}return res};function args2array(args){return[].slice.apply(args)}module.exports={is_undefined:is_undefined,is_nil:is_nil,is_string:is_string,is_int:is_int,is_float:is_float,repr_cell:repr_cell,get_type:get_type,partial:partial,args2array:args2array}},596:function(module,__unusedexports,__webpack_require__){var m_utils=__webpack_require__(547);var m_processing=__webpack_require__(250);var m_column=__webpack_require__(871);var m_row=__webpack_require__(760);var Table=function(columns,rows,title){this._columns=columns;this.rows=rows;this.title=title||"NoTitle";this.types=null;this._calc_columns()};Table.prototype._calc_columns=function(){this.column_indices={};for(var i=0;i<this._columns.length;i++){this.column_indices[this._columns[i]]=i}};Object.defineProperty(Table.prototype,"columns",{get:function(){return this._columns},set:function(news){if(this._columns.length!=news.length){throw Error("New columns list must have the same length!")}this._columns=news;this._calc_columns()}});Object.defineProperty(Table.prototype,"colcnt",{get:function(){return this._columns.length}});Object.defineProperty(Table.prototype,"rowcnt",{get:function(){return this.rows.length}});Table.prototype.cell=function(column,row_index){if(m_utils.is_string(column)){column=this.column_indices[column]}return this.rows[row_index][column]};Table.prototype.set_cell=function(column,row_index,value){if(m_utils.is_string(column)){column=this.column_indices[column]}this.rows[row_index][column]=value};Table.prototype.column=function(column){if(m_utils.is_string(column)){column=this.column_indices[column]}else if(!m_utils.is_int(column)){throw Error("Bad column key "+column)}return new m_column.Column(null,this._columns[column],this,this._columns[column])};Table.prototype.set_column=function(column,data){if(this.rowcnt!=data.length){throw Error("Table.set_column data length ({}) must be equal to table rows count ({})".format(data.length,this.rowcnt))}var ind=this.column_indices[column];if(m_utils.is_undefined(ind)){throw Error('Table.set_column "{}" does not exist!'.format(column))}if(data instanceof m_column.Column){for(var i=this.rowcnt-1;i>=0;i--){this.rows[i][ind]=data.get_value(i)}}else{for(var i=this.rowcnt-1;i>=0;i--){this.rows[i][ind]=data[i]}}this._calc_columns()};Table.prototype.add_column=function(data,title){if(!title){if(data instanceof m_column.Column){title=data.title}title="c"+this.colcnt}if(this.rowcnt==0&&this.colcnt==0){if(data instanceof m_column.Column){for(var i=this.rowcnt-1;i>=0;i--){this.rows.push([data.get_value(i)])}}else{for(var i=this.rowcnt-1;i>=0;i--){this.rows.push([data[i]])}}}else{if(this.rowcnt!=data.length){throw Error("Table.add_column data length ({}) must be equal to table rows count ({})".format(data.length,this.rowcnt))}if(data instanceof m_column.Column){for(var i=this.rowcnt-1;i>=0;i--){this.rows[i].push(data.get_value(i))}}else{for(var i=this.rowcnt-1;i>=0;i--){this.rows[i].push(data[i])}}}this.column_indices[title]=this.colcnt;this._columns.push(title)};Table.prototype.delete_column=function(column){var ind=m_utils.is_string(column)?this.column_indices[column]:column;this._columns.splice(ind,1);for(var i=this.rowcnt-1;i>=0;i--){this.rows[i].splice(ind,1)}this._calc_columns()};Table.prototype.rename=function(oldname,newname){if(this.column_indices[oldname]){if(oldname!=newname){this._columns[this.column_indices[oldname]]=newname;this.column_indices[newname]=this.column_indices[oldname];this.column_indices[oldname]=undefined}}};Table.from_columns=function(columns,title){var res=new Table([],[],title||"From columns");if(Array.isArray(columns)){for(var i=0;i<columns.length;i++){this.add_column(null,columns[i])}}else{for(var key in columns){this.add_column(key,columns[key])}}return res};Table.from_rows=function(rows,columns,title,preprocess){if(!columns){if(rows.length>0){columns=[];for(var i=0;i<rows[0].length;i++){columns.push("c"+i)}}else{columns=[]}}var res=new Table(columns,[],title||"From rows");for(var i=0;i<rows.length;i++){res.add_row(rows,undefined,preprocess)}return res};Table.prototype.row=function(row_index){return new m_row.Row(this,row_index)};Table.prototype.row_named=function(row_index){var res={};for(var i=0;i<this.colcnt;i++){res[this._columns[i]]=this.rows[row_index][i]}return res};Table.prototype.add_row=function(data,strict,preprocess){if(m_utils.is_undefined(strict)){strict=true}var row=[];if(data instanceof m_row.Row){if(this.colcnt!=data.colcnt){throw Error("Table.add_row Row argument must have length equal to columns count!")}for(var i=0;i<this.colcnt;i++){row.push(preprocess?m_processing.parse_value(data.get_value(i)):data.get_value(i))}}else if(Array.isArray(data)){if(this.colcnt!=data.length){throw Error("Table.add_row array argument must have length equal to columns count!")}for(var i=0;i<this.colcnt;i++){row.push(preprocess?m_processing.parse_value(data[i]):data[i])}}else{var key;for(var i=0;i<this.colcnt;i++){key=this._columns[i];if(!data[key]){if(strict){throw Error("Table.add_row dict argument does not have key "+key+"!")}else{row.push(undefined)}}else{row.push(preprocess?m_processing.parse_value(data[key]):data[key])}}}this.rows.push(row)};Table.prototype.delete_row=function(row_index){this.rows.splice(row_index,1)};Table.prototype.find_types=function(row_index){var rows=[];var key,t;for(var i=0;i<this.colcnt;i++){key=this._columns[i];t=this.column(key).get_type();rows.push([key,t.type,t.length])}this.types=new Table(["Column","Type","Symbols"],rows,"Types");return this.types};Table.prototype.append=function(other){for(var i=0;i<this.rowcnt;i++){this.add_row(other.row_named())}};Table.concat=function(tables){var res=tables[0].copy();for(var i=1;i<tables.length;i++){res.append(tables[i])}res.title="Concat";return res};Table.prototype.make_index=function(title){var res=m_column.Column.make_index(this.rowcnt);if(title){this.add_column(res,title)}return res};Table.prototype.calc=function(task){throw Error("Not implemented!")};module.exports={Table:Table}},760:function(module,__unusedexports,__webpack_require__){var m_utils=__webpack_require__(547);var m_processing=__webpack_require__(250);var Row=function(table,row_index,values,columns){if(!values){if(!table||m_utils.is_nil(row_index)){throw Error("Both table and row_index must be set!")}}else{if(table){throw Error("Either values or table must be not None!")}if(!columns){columns=[];for(var i=0;i<values.length;i++){columns.push("c"+i)}}}this.table=table;this.row_index=row_index;this.values=values;this.column_names=columns};Object.defineProperty(Row.prototype,"colcnt",{get:function(){if(this.values){return this.values.length}else{return this.table.colcnt}}});Object.defineProperty(Row.prototype,"columns",{get:function(){if(this.values){return this.column_names}else{return this.table.columns}}});Row.prototype.get_values=function(){if(this.values){return this.values}else{var res=[];for(var i=0;i<this.table.colcnt;i++){res.push(this.table.rows[this.row_index][i])}return res}};Row.prototype.get_value=function(column){if(this.values){if(m_utils.is_string(column)){return this.values[this.column_names.indexOf(column)]}else{return this.values[column]}}else{return this.table.cell(column,this.row_index)}};Row.prototype.set_value=function(column,value){if(this.values){if(m_utils.is_string(column)){this.values[this.column_names.indexOf(column)]=value}else{this.values[column]=value}}else{this.table.set_cell(column,this.row_index,value)}};Row.prototype.get_type=function(column,value){return m_utils.get_type(this.get_values())};Row.prototype.calc=function(task,abc){if(m_utils.is_string(task)){if(m_processing.aggfuns[task]){task=m_processing.aggfuns[task]}else{throw Error('Applied function named "{}" does not exist!'.format(task))}}var args=[this.get_values()];args=args.concat(m_utils.args2array(args2array).slice(1));return task.apply(null,args)};Row.prototype.copy=function(){return new Row(null,null,this.get_values(),this.columns)};Row.prototype.length=function(){return this.colcnt};Row.prototype.toString=function(){var values=this.get_values().map(m_utils.partial(m_utils.repr_cell,[undefined,true]));var res;if(!this.values){res='- Row {} of table "{}"'.format(this.row_index,this.table.title)}else{res="- Row independent"}res+="\n"+values.join(", ");return res};module.exports={Row:Row}},871:function(module,__unusedexports,__webpack_require__){var m_utils=__webpack_require__(547);var m_processing=__webpack_require__(250);var Column=function(values,title,table,source_name){this.title=title||"NoName";if(!values&&!table){throw Error("Either values or table must be not null!")}if(values&&table){throw Error("Either values or table must be given, not both of them!")}if(table&&!source_name){throw Error("Table requres source_name argument!")}this.values=values;this.table=table;this.source_name=source_name};Column.prototype.get_values=function(){if(this.values){return this.values}else{var column_index=this.table.column_indices[this.source_name];var res=[];return this.table.rows.map(function(row){return row[column_index]})}};Column.prototype.get_value=function(row_index){if(this.values){return this.values[row_index]}else{var column_index=this.table.column_indices[this.source_name];return this.table.rows[row_index][column_index]}};Column.prototype.set_value=function(row_index,value){if(this.values){this.values[row_index]=value}else{var column_index=this.table.column_indices[this.source_name];this.table.rows[row_index][column_index]=value}};Column.prototype.forEach=function(callback){for(var i=0;i<this.rowcnt;i++){callback(this.get_value(i),i)}};Column.make=function(length,value,title){var values=[];for(var i=0;i<length;i++){values.push(value)}return Column(values,title)};Column.make_index=function(length,title){var values=[];for(var i=0;i<length;i++){values.push(i)}return new Column(values,title)};Column.prototype.get_type=function(){var limit=this.rowcnt;if(limit>4096){limit=Math.floor(limit/3)}else if(limit>2048){limit=Math.floor(limit/2)}return m_utils.get_type(this.get_values(),limit)};Column.prototype.folds=function(fold_count,start){throw Error("Not implemented!")};Column.prototype.apply=function(task,defaults,separate){if(m_utils.is_string(task)){if(m_processing.typefuns[task]){task=m_processing.typefuns[task];if(m_utils.is_undefined(separate)){separate=false}}else if(m_processing.applyfuns[task]){task=m_processing.applyfuns[task];if(m_utils.is_undefined(separate)){separate=true}}else{throw Error('Applied function named "'+task+'" does not exist!')}}else{if(m_utils.is_undefined(separate)){separate=false}}if(!m_utils.is_undefined(defaults)){task=m_utils.partial(task,defaults)}if(separate){var res=[];for(var i=0;i<this.rowcnt;i++){res.push(task(this.get_value(i)))}return new Column(res,this.title)}else{for(var i=0;i<this.rowcnt;i++){this.set_value(i,task(this.get_value(i)))}return this}};Column.prototype.calc=function(task,defaults){if(m_utils.is_string(task)){if(m_processing.aggfuns[task]){task=m_processing.aggfuns[task]}else{throw Error('Applied function named "'+task+'" does not exist!')}}if(!m_utils.is_undefined(defaults)){task=m_utils.partial(task,defaults)}return task(this.get_values())};Column.prototype.copy=function(task,defaults){return new Column(this.get_values(),this.title)};Column.prototype.loc=function(prism){if(this.rowcnt==prism.length){var res=[];for(var i=0;i<prism.length;i++){if(prism[i]){res.push(this.get_value)}}var title="Filtered "+this.title;return new Column(res,title)}else{throw Error("Arument object must have the same length!")}};Column.prototype.toString=function(){var n=self.rowcnt;var ns=false;if(n>12){n=10;ns=true}var values=this.get_values().slice(0,n).map(m_utils.partial(m_utils.repr_cell,[undefined,true]));var res;if(!this.values){res='- Column "{}" of table "{}", '.format(this.title,this.table.title)}else{res='- Column "{}", '.format(this.title)}res+=this.rowcnt+" values\n"+values.join(", ");if(ns){res+=" . ."}return res};Object.defineProperty(Column.prototype,"rowcnt",{get:function(){if(this.values){return this.values.length}else{return this.table.rowcnt}}});Object.defineProperty(Column.prototype,"length",{get:function(){if(this.values){return this.values.length}else{return this.table.rowcnt}}});Column.prototype.indexOf=function(value){return this.get_values().indexOf(value)};Column.prototype.isin=function(other){var values=[];for(var i=0;i<this.rowcnt;i++){values.push(other.indexOf(this.get_value(i))>=0)}return new Column(values)};Column.prototype._op1=function(func){var values=[];for(var i=0;i<this.rowcnt;i++){values.push(func(this.get_value(i)))}return new Column(values)};Column.prototype._op2=function(other,func){var values=[];if(other instanceof Column){for(var i=0;i<this.rowcnt;i++){values.push(func(this.get_value(i),other.get_value(i)))}}else if(Array.isArray(other)){for(var i=0;i<this.rowcnt;i++){values.push(func(this.get_value(i),other[i]))}}else{for(var i=0;i<this.rowcnt;i++){values.push(func(this.get_value(i),other))}}return new Column(values)};Column.prototype.inv=function(){return this._op1(function(value){return!value})};Column.prototype.abs=function(){return this._op1(function(value){return Math.abs(value)})};Column.prototype.band=function(other){return this._op2(other,function(a,b){return a&b})};Column.prototype.bor=function(other){return this._op2(other,function(a,b){return a|b})};Column.prototype.bxor=function(other){return this._op2(other,function(a,b){return a^b})};Column.prototype.and=function(other){return this._op2(other,function(a,b){return a&&b})};Column.prototype.or=function(other){return this._op2(other,function(a,b){return a||b})};Column.prototype.xor=function(other){return this._op2(other,function(a,b){return!a!=!b})};Column.prototype.add=function(other){return this._op2(other,function(a,b){return a+b})};Column.prototype.sub=function(other){return this._op2(other,function(a,b){return a-b})};Column.prototype.mul=function(other){return this._op2(other,function(a,b){return a*b})};Column.prototype.div=function(other){return this._op2(other,function(a,b){return a/b})};Column.prototype.mod=function(other){return this._op2(other,function(a,b){return a%b})};Column.prototype.pow=function(other){return this._op2(other,function(a,b){return Math.power(a,b)})};Column.prototype.gt=function(other){return this._op2(other,function(a,b){return a>b})};Column.prototype.lt=function(other){return this._op2(other,function(a,b){return a<b})};Column.prototype.ge=function(other){return this._op2(other,function(a,b){return a>=b})};Column.prototype.le=function(other){return this._op2(other,function(a,b){return a<=b})};Column.prototype.eq=function(other){return this._op2(other,function(a,b){return a==b})};Column.prototype.ne=function(other){return this._op2(other,function(a,b){return a!=b})};module.exports={Column:Column}}});
return module.exports;}();